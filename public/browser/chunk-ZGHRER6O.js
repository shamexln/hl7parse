import{a as vt,d as _t,h as xt,m as Mt,p as Q,r as Ht}from"./chunk-KKQIETPD.js";import{Aa as o,Ac as U,Ba as i,Bc as It,Ca as E,Eb as M,Fa as q,Fb as T,Ga as P,I as j,Ja as _,L as F,La as p,Ma as x,N as st,Na as m,O as C,Oa as N,P as h,Pa as ut,Pb as R,Qa as w,Qb as bt,Ra as I,Sb as b,T as ct,Ua as A,Va as s,W as dt,Wa as H,Ya as Y,Za as J,_ as c,_a as K,a as rt,b as at,ba as pt,bc as Et,cc as St,ga as v,gb as X,ha as L,hc as yt,ia as G,ib as gt,k as f,l as S,la as D,ma as l,mc as B,pb as ft,qa as d,qb as Ct,qc as Pt,ra as lt,sa as mt,sb as V,uc as z,va as y,vb as ht,vc as Dt,wc as wt,zc as O}from"./chunk-XI2XNIMJ.js";var Lt=[[["odx-chip"]]],Nt=["odx-chip"];var Tt=(()=>{let t=class Z{constructor(){this.element=b()}static{this.\u0275fac=function(n){return new(n||Z)}}static{this.\u0275cmp=v({type:Z,selectors:[["odx-chip-list-row"]],ngContentSelectors:Nt,decls:1,vars:0,template:function(n,a){n&1&&(x(Lt),m(0))},encapsulation:2,changeDetection:0})}};return t=f([M("chip-list-row")],t),t})();var Vt=[[["","odxButton",""]],"*"],Rt=["[odxButton]","*"];function Bt(t,r){t&1&&(o(0,"div",0),m(1,1),i())}var nt=(()=>{let t=class tt{constructor(){this.element=b(),this.tile=!1}onTab(e){e.preventDefault(),e.stopPropagation(),Ht(this.element.nativeElement)}static{this.\u0275fac=function(n){return new(n||tt)}}static{this.\u0275cmp=v({type:tt,selectors:[["odx-menu"]],hostAttrs:["role","menu"],hostBindings:function(n,a){n&1&&_("keydown.tab",function(g){return a.onTab(g)})},inputs:{tile:[2,"tile","tile",gt]},features:[D([Dt])],ngContentSelectors:Rt,decls:3,vars:1,consts:[[1,"odx-menu__title"],[1,"odx-menu__inner"]],template:function(n,a){n&1&&(x(Vt),l(0,Bt,2,0,"div",0),o(1,"odx-action-group",1),m(2,0,["ngProjectAs","[odxButton]",5,["","odxButton",""]]),i()),n&2&&y(a.tile?0:-1)},dependencies:[O,V],encapsulation:2,changeDetection:0})}};return f([T(),S("design:type",Object)],t.prototype,"tile",void 0),t=f([M("menu")],t),t})(),zt={containerClass:"odx-menu-overlay",enableFallback:!0},W=(()=>{let t=class et{constructor(){this.dropdown=F(Q,{host:!0}),this.element=b()}ngOnChanges(e){Et(e,"position",!1)&&(this.dropdown.options=at(rt({},zt),{position:this.position??void 0}))}isOpen(){return this.dropdown.isOpen}close(e){this.dropdown.close(e)}static{this.\u0275fac=function(n){return new(n||et)}}static{this.\u0275dir=G({type:et,selectors:[["","odxMenu",""]],inputs:{content:[0,"odxMenu","content"],position:[0,"odxMenuPosition","position"]},exportAs:["odxMenu"],features:[D([{directive:Q,inputs:["odxDropdown","odxMenu"]}]),st]})}};return t=f([M("menu-host")],t),t})();var Ot=(()=>{class t{static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275mod=L({type:t})}static{this.\u0275inj=j({imports:[nt,U,B]})}}return t})();var Wt=["*"],Gt=[[["odx-chip"]],[["img"]]],qt=["odx-chip","img"],Yt=[[["odx-card-footer"]],[["odx-card-image"]],[["","odxCardContent",""],["odx-card-content"]],[["odx-avatar"]],[["odx-launch-card-subtitle"]],[["odx-menu"]],[["odx-action-group"]],"*"],Jt=["odx-card-footer","odx-card-image","[odxCardContent], odx-card-content","odx-avatar","odx-launch-card-subtitle","odx-menu","odx-action-group","*"];function Kt(t,r){t&1&&q(0)}function Xt(t,r){if(t&1&&(o(0,"div",2),m(1,1),o(2,"div",4),l(3,Kt,1,0,"ng-container",5),i(),m(4,2),i()),t&2){p();let e=A(6);c(3),d("ngTemplateOutlet",e)}}function Zt(t,r){t&1&&q(0)}function $t(t,r){if(t&1&&(o(0,"div",2),m(1,3),o(2,"div",6)(3,"div",7),l(4,Zt,1,0,"ng-container",5),i(),m(5,4),i()()),t&2){p();let e=A(6);c(4),d("ngTemplateOutlet",e)}}function te(t,r){t&1&&m(0,5)}function ee(t,r){if(t&1&&(o(0,"odx-action-group",3)(1,"button",8),E(2,"odx-icon",9),i(),l(3,te,1,0,"ng-template",null,1,X),i()),t&2){let e=A(4),n=p();c(),d("odxMenu",e),c(),d("name",n.menuIcon)}}function ne(t,r){t&1&&m(0,6)}function ie(t,r){t&1&&m(0,7)}var k={DEFAULT:"default",LAUNCH_TILE:"launch-tile",LAUNCH_TILE_CENTERED:"launch-tile-centered",IMAGE_CARD:"image-card"},{CardConfig:ln,CardDefaultConfig:mn,injectCardConfig:kt,provideCardConfig:un}=St("Card","@odx/angular/components/card",{variant:k.DEFAULT,maxImageHeight:"auto",imageRatio:"auto"}),oe=(()=>{class t{static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275cmp=v({type:t,selectors:[["odx-card-footer"]],hostVars:2,hostBindings:function(n,a){n&2&&mt("odx-card__footer",!0)},ngContentSelectors:Wt,decls:1,vars:0,template:function(n,a){n&1&&(x(),m(0))},encapsulation:2,changeDetection:0})}}return t})(),re=(()=>{let t=class it{constructor(){this.config=kt(),this.element=b(),this.imageRatio=this.config.imageRatio??"auto",this.maxImageHeight=this.config.maxImageHeight??"auto"}get getMaxImageHeight(){return this.maxImageHeight??this.config.maxImageHeight??"auto"}get getImageAspectRatio(){return this.imageRatio??this.config.imageRatio??"auto"}static{this.\u0275fac=function(n){return new(n||it)}}static{this.\u0275cmp=v({type:it,selectors:[["odx-card-image"]],hostVars:4,hostBindings:function(n,a){n&2&&lt("--odx-card-image-max-height",a.getMaxImageHeight)("--odx-card-image-aspect-ratio",a.getImageAspectRatio)},inputs:{imageRatio:"imageRatio",maxImageHeight:"maxImageHeight"},ngContentSelectors:qt,decls:4,vars:0,consts:[[1,"odx-card-image__img"]],template:function(n,a){n&1&&(x(Gt),o(0,"odx-chip-list-row"),m(1,0,["ngProjectAs","odx-chip",5,["odx-chip"]]),i(),o(2,"figure",0),m(3,1),i())},dependencies:[Tt],encapsulation:2})}};return t=f([M("card-image")],t),t})();var ae=(()=>{let t=class ot{get launchTile(){return this.variant===k.LAUNCH_TILE||this.variant===k.LAUNCH_TILE_CENTERED}constructor(){this.interactiveDirective=F(z,{host:!0}),this.takeUntilDestroyed=bt(),this.config=kt(),this.cardVariant=k,this.element=b(),this.variant=this.config.variant??k.DEFAULT,this.menuIcon="more",this.interact=new ct,this.interactiveDirective.interact.pipe(this.takeUntilDestroyed()).subscribe(e=>{this.stopEvents(e)})}stopEvents(e){let n=e.target,a=R(this.footer?.nativeElement,n,!1),u=R(this.menuHost?.element.nativeElement,n),g=R(this.buttons?.element.nativeElement,n);!a&&!u&&!this.menuHost?.isOpen()&&!g&&this.interact.emit(e)}static{this.\u0275fac=function(n){return new(n||ot)}}static{this.\u0275cmp=v({type:ot,selectors:[["odx-card"]],contentQueries:function(n,a,u){if(n&1&&(N(u,nt,5),N(u,O,5),N(u,oe,5,dt)),n&2){let g;w(g=I())&&(a.menu=g.first),w(g=I())&&(a.buttons=g.first),w(g=I())&&(a.footer=g.first)}},viewQuery:function(n,a){if(n&1&&ut(W,5),n&2){let u;w(u=I())&&(a.menuHost=u.first)}},inputs:{variant:"variant",menuIcon:"menuIcon"},outputs:{interact:"interact"},features:[D([z])],ngContentSelectors:Jt,decls:7,vars:2,consts:[["content",""],["menuTpl",""],[1,"odx-card__container"],[1,"odx-card__menu"],[1,"odx-card__title","odx-heading-5"],[4,"ngTemplateOutlet"],[1,"odx-card__content"],[1,"odx-card__title"],["odxButton","","odxMenuPosition","bottom-end",3,"odxMenu"],["iconSet","core",3,"name"]],template:function(n,a){n&1&&(x(Yt),l(0,Xt,5,1,"div",2)(1,$t,6,1,"div",2),m(2),l(3,ee,5,2,"odx-action-group",3)(4,ne,1,0)(5,ie,1,0,"ng-template",null,0,X)),n&2&&(y(a.launchTile?1:0),c(3),y(a.menu?3:a.buttons?4:-1))},dependencies:[wt,Ct,Pt,U,Ot,W,O],encapsulation:2,changeDetection:0})}};return f([T(),S("design:type",String)],t.prototype,"variant",void 0),t=f([M("card"),S("design:paramtypes",[])],t),t})();var jt=(()=>{class t{static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275mod=L({type:t})}static{this.\u0275inj=j({imports:[ae,re,B]})}}return t})();function se(t,r){if(t&1){let e=P();o(0,"div",10)(1,"button",11),_("click",function(){C(e);let a=p();return h(a.startHttpEditing())}),s(2,"Edit"),i()()}}function ce(t,r){if(t&1&&(o(0,"div",12)(1,"div",13)(2,"span",14),s(3,"Server Address:"),i(),o(4,"span",15),s(5,"localhost"),i()(),o(6,"div",13)(7,"span",14),s(8,"Port:"),i(),o(9,"span",15),s(10),i()(),o(11,"div",13)(12,"span",14),s(13,"Status:"),i(),o(14,"span",16),s(15,"Connected"),i()()()),t&2){let e=p();c(10),H(e.savedHttpPort)}}function de(t,r){if(t&1&&(o(0,"span",28),s(1),i()),t&2){let e=p(2);c(),H(e.httpErrorMessage)}}function pe(t,r){t&1&&(o(0,"span"),s(1,"Save"),i())}function le(t,r){t&1&&(o(0,"span"),s(1,"Saving..."),i())}function me(t,r){if(t&1){let e=P();o(0,"div",17)(1,"div",13)(2,"label",18),s(3,"Server Address:"),i(),E(4,"input",19),o(5,"span",20),s(6,"Server address cannot be changed"),i()(),o(7,"div",13)(8,"label",21),s(9,"Port:"),i(),o(10,"input",22),K("ngModelChange",function(a){C(e);let u=p();return J(u.httpPort,a)||(u.httpPort=a),h(a)}),i(),l(11,de,2,1,"span",23),i(),o(12,"div",24)(13,"button",25),_("click",function(){C(e);let a=p();return h(a.cancelHttpEditing())}),s(14,"Cancel"),i(),o(15,"button",26),_("click",function(){C(e);let a=p();return h(a.saveHttpPortConfiguration())}),l(16,pe,2,0,"span",27)(17,le,2,0,"span",27),i()()()}if(t&2){let e=p();c(10),Y("ngModel",e.httpPort),c(),d("ngIf",e.httpErrorMessage),c(2),d("disabled",e.isHttpSaving),c(2),d("disabled",e.isHttpSaving),c(),d("ngIf",!e.isHttpSaving),c(),d("ngIf",e.isHttpSaving)}}function ue(t,r){if(t&1){let e=P();o(0,"div",10)(1,"button",11),_("click",function(){C(e);let a=p();return h(a.startEditing())}),s(2,"Edit"),i()()}}function ge(t,r){if(t&1&&(o(0,"div",12)(1,"div",13)(2,"span",14),s(3,"Server Address:"),i(),o(4,"span",15),s(5,"localhost"),i()(),o(6,"div",13)(7,"span",14),s(8,"Port:"),i(),o(9,"span",15),s(10),i()(),o(11,"div",13)(12,"span",14),s(13,"Status:"),i(),o(14,"span",16),s(15,"Connected"),i()()()),t&2){let e=p();c(10),H(e.savedPort)}}function fe(t,r){if(t&1&&(o(0,"span",28),s(1),i()),t&2){let e=p(2);c(),H(e.errorMessage)}}function Ce(t,r){t&1&&(o(0,"span"),s(1,"Save"),i())}function he(t,r){t&1&&(o(0,"span"),s(1,"Saving..."),i())}function ve(t,r){if(t&1){let e=P();o(0,"div",17)(1,"div",13)(2,"label",29),s(3,"Server Address:"),i(),E(4,"input",30),o(5,"span",20),s(6,"Server address cannot be changed"),i()(),o(7,"div",13)(8,"label",31),s(9,"Port:"),i(),o(10,"input",32),K("ngModelChange",function(a){C(e);let u=p();return J(u.port,a)||(u.port=a),h(a)}),i(),l(11,fe,2,1,"span",23),i(),o(12,"div",24)(13,"button",25),_("click",function(){C(e);let a=p();return h(a.cancelEditing())}),s(14,"Cancel"),i(),o(15,"button",26),_("click",function(){C(e);let a=p();return h(a.savePortConfiguration())}),l(16,Ce,2,0,"span",27)(17,he,2,0,"span",27),i()()()}if(t&2){let e=p();c(10),Y("ngModel",e.port),c(),d("ngIf",e.errorMessage),c(2),d("disabled",e.isSaving),c(2),d("disabled",e.isSaving),c(),d("ngIf",!e.isSaving),c(),d("ngIf",e.isSaving)}}var Ft=class t{constructor(r){this.http=r}port="3359";savedPort="3359";isEditing=!1;isSaving=!1;errorMessage="";httpPort="8978";savedHttpPort="8978";isHttpEditing=!1;isHttpSaving=!1;httpErrorMessage="";ngOnInit(){this.loadPortConfigurations()}loadPortConfigurations(){this.http.get("/api/port-config").subscribe({next:r=>{r.success&&(r.config.tcpPort&&(this.port=r.config.tcpPort.toString(),this.savedPort=r.config.tcpPort.toString()),r.config.httpPort&&(this.httpPort=r.config.httpPort.toString(),this.savedHttpPort=r.config.httpPort.toString()))},error:r=>{console.error("Failed to load port configurations:",r),this.loadFromLocalStorage()}})}loadFromLocalStorage(){let r=localStorage.getItem("apiPort");r&&(this.port=r,this.savedPort=r);let e=localStorage.getItem("httpPort");e&&(this.httpPort=e,this.savedHttpPort=e)}startEditing(){this.isEditing=!0}cancelEditing(){this.port=this.savedPort,this.isEditing=!1,this.errorMessage=""}savePortConfiguration(){if(!this.port||isNaN(Number(this.port))||Number(this.port)<1||Number(this.port)>65535){this.errorMessage="Please enter a valid port number (1-65535)";return}this.isSaving=!0,this.errorMessage="",this.http.post("/api/port-config",{tcpPort:Number(this.port)}).subscribe({next:r=>{r.success?(this.savedPort=this.port,localStorage.setItem("apiPort",this.port),this.isSaving=!1,this.isEditing=!1):(this.errorMessage=r.message||"Failed to update port configuration",this.isSaving=!1)},error:r=>{console.error("Error saving port configuration:",r),this.errorMessage=r.error?.message||"Failed to connect to server",this.isSaving=!1}})}startHttpEditing(){this.isHttpEditing=!0}cancelHttpEditing(){this.httpPort=this.savedHttpPort,this.isHttpEditing=!1,this.httpErrorMessage=""}saveHttpPortConfiguration(){if(!this.httpPort||isNaN(Number(this.httpPort))||Number(this.httpPort)<1||Number(this.httpPort)>65535){this.httpErrorMessage="Please enter a valid port number (1-65535)";return}this.isHttpSaving=!0,this.httpErrorMessage="",this.http.post("/api/port-config",{httpPort:Number(this.httpPort)}).subscribe({next:r=>{r.success?(this.savedHttpPort=this.httpPort,localStorage.setItem("httpPort",this.httpPort),this.isHttpSaving=!1,this.isHttpEditing=!1):(this.httpErrorMessage=r.message||"Failed to update HTTP port configuration",this.isHttpSaving=!1)},error:r=>{console.error("Error saving HTTP port configuration:",r),this.httpErrorMessage=r.error?.message||"Failed to connect to server",this.isHttpSaving=!1}})}static \u0275fac=function(e){return new(e||t)(pt(ht))};static \u0275cmp=v({type:t,selectors:[["app-configuration"]],decls:21,vars:6,consts:[[1,"network-config"],[1,"config-section"],["size","large"],[1,"config-card"],[1,"card-header"],["class","card-actions",4,"ngIf"],[1,"card-content"],["class","view-mode",4,"ngIf"],["class","edit-mode",4,"ngIf"],[1,"card-separator"],[1,"card-actions"],[1,"edit-button",3,"click"],[1,"view-mode"],[1,"config-item"],[1,"label"],[1,"value"],[1,"value","status-ok"],[1,"edit-mode"],["for","httpServerAddress"],["type","text","id","httpServerAddress","value","localhost","disabled",""],[1,"hint"],["for","httpPort"],["type","text","id","httpPort","placeholder","Enter port number",3,"ngModelChange","ngModel"],["class","hint","style","color: red;",4,"ngIf"],[1,"button-group"],[1,"cancel-button",3,"click","disabled"],[1,"save-button",3,"click","disabled"],[4,"ngIf"],[1,"hint",2,"color","red"],["for","serverAddress"],["type","text","id","serverAddress","value","localhost","disabled",""],["for","port"],["type","text","id","port","placeholder","Enter port number",3,"ngModelChange","ngModel"]],template:function(e,n){e&1&&(o(0,"div",0)(1,"div",1)(2,"odx-area-header",2),s(3," Network Configuration "),i(),o(4,"div",3)(5,"div",4)(6,"h3"),s(7,"HL7 Parse Tool Server"),i(),l(8,se,3,0,"div",5),i(),o(9,"div",6),l(10,ce,16,1,"div",7)(11,me,18,6,"div",8),i()(),E(12,"div",9),o(13,"div",3)(14,"div",4)(15,"h3"),s(16,"HL7 Receiver"),i(),l(17,ue,3,0,"div",5),i(),o(18,"div",6),l(19,ge,16,1,"div",7)(20,ve,18,6,"div",8),i()()()()),e&2&&(c(8),d("ngIf",!n.isHttpEditing),c(2),d("ngIf",!n.isHttpEditing),c(),d("ngIf",n.isHttpEditing),c(6),d("ngIf",!n.isEditing),c(2),d("ngIf",!n.isEditing),c(),d("ngIf",n.isEditing))},dependencies:[V,ft,Mt,vt,_t,xt,jt,yt,It],styles:[".network-config[_ngcontent-%COMP%]{background:#f5f7fa;padding:20px;height:100vh;overflow:auto}.config-section[_ngcontent-%COMP%]{margin-bottom:30px}.config-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-top:0;margin-bottom:20px;font-size:18px;font-weight:500;color:#333}.config-card[_ngcontent-%COMP%]{background:#fff;border-radius:4px;box-shadow:0 2px 4px #0000001a;overflow:hidden}.card-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:15px 20px;background:#f8f9fa;border-bottom:1px solid #eee}.card-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:16px;font-weight:500}.card-content[_ngcontent-%COMP%]{padding:20px}.config-item[_ngcontent-%COMP%]{margin-bottom:15px}.view-mode[_ngcontent-%COMP%]   .config-item[_ngcontent-%COMP%]{display:flex;margin-bottom:10px}.view-mode[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{width:150px;color:#666}.view-mode[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-weight:500}.status-ok[_ngcontent-%COMP%]{color:#2ecc71}.edit-mode[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;font-weight:500}.edit-mode[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:8px 12px;border:1px solid #ddd;border-radius:4px;font-size:14px;margin-bottom:5px}.edit-mode[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:disabled{background-color:#f5f5f5;cursor:not-allowed}.hint[_ngcontent-%COMP%]{display:block;font-size:12px;color:#888;margin-top:5px}.edit-button[_ngcontent-%COMP%]{padding:6px 12px;background-color:#3498db;color:#fff;border:none;border-radius:4px;cursor:pointer;font-size:14px}.edit-button[_ngcontent-%COMP%]:hover{background-color:#2980b9}.button-group[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;margin-top:20px}.cancel-button[_ngcontent-%COMP%], .save-button[_ngcontent-%COMP%]{padding:8px 16px;border:none;border-radius:4px;cursor:pointer;font-size:14px;margin-left:10px}.cancel-button[_ngcontent-%COMP%]{background-color:#e0e0e0;color:#333}.cancel-button[_ngcontent-%COMP%]:hover{background-color:#d0d0d0}.save-button[_ngcontent-%COMP%]{background-color:#2ecc71;color:#fff}.save-button[_ngcontent-%COMP%]:hover{background-color:#27ae60}.save-button[_ngcontent-%COMP%]:disabled, .cancel-button[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.help-section[_ngcontent-%COMP%]{background-color:#f8f9fa;border-radius:4px;padding:15px}.help-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:0;margin-bottom:15px;font-size:16px;font-weight:500}.help-section[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin-top:15px;margin-bottom:10px;font-size:14px;font-weight:500}.help-section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:10px;font-size:13px;line-height:1.5;color:#555}.card-separator[_ngcontent-%COMP%]{height:1px;background-color:#e0e0e0;margin:20px 0;box-shadow:0 1px 2px #0000000d}"]})};export{Ft as ConfigurationComponent};
